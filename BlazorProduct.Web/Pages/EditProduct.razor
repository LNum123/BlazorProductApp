@page "/editproduct/{id}"
@page "/addproduct"

@inherits EditProductBase

<EditForm Model="@EditProductModel" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />

    <h3>@PageHeaderText</h3>
    <ValidationSummary />

    <hr />
    <div class="form-group row">
        <label for="productName" class="col-sm-2 col-form-label">
            Product Name
        </label>
        <div class="col-sm-10">
            <InputText id="productName" class="form-control" placeholder="Product Name"
                       @bind-Value="EditProductModel.Name" />
            <ValidationMessage For="@(()=> EditProductModel.Name)" />
        </div>
    </div>
    <div class="form-group row">
        <label for="productModel" class="col-sm-2 col-form-label">
            Product Model
        </label>
        <div class="col-sm-10">
            <InputText id="productModel" class="form-control" placeholder="Product Model"
                       @bind-Value="EditProductModel.Model" />
            <ValidationMessage For="@(()=> EditProductModel.Model)" />
        </div>
    </div>
    <div class="form-group row">
        <label for="partNumber" class="col-sm-2 col-form-label">Product Part Number</label>
        <div class="col-sm-10">
            <InputText id="partNumber" class="form-control" placeholder="Product Part Number" @bind-Value="EditProductModel.PartNumber" />
            <ValidationMessage For="@(() => EditProductModel.PartNumber)" />
        </div>
    </div>

    <div class="form-group row">
        <label for="quantity" class="col-sm-2 col-form-label">Quantity</label>
        <div class="col-sm-10">
            <InputNumber id="quantity" class="form-control" placeholder="Quantity" @bind-Value="EditProductModel.Quantity" />
            <ValidationMessage For="@(() => EditProductModel.Quantity)" />
        </div>
    </div>

    <div class="form-group row">
        <label for="price" class="col-sm-2 col-form-label">Price</label>
        <div class="col-sm-10">
            <InputNumber id="price" class="form-control" placeholder="Price" @bind-Value="EditProductModel.Price" />
            <ValidationMessage For="@(() => EditProductModel.Price)" />
        </div>
    </div>

    <div class="form-group row">
        <label for="dateTimeCaptured" class="col-sm-2 col-form-label">Date Captured</label>
        <div class="col-sm-10">
            <InputDate id="dateTimeCaptured" class="form-control" @bind-Value="EditProductModel.DateTimeCaptured" readonly />
            <ValidationMessage For="@(() => EditProductModel.DateTimeCaptured)" />
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-10 offset-sm-2">
            <button type="submit" class="btn btn-primary">Save</button>
            @if(EditProductModel.Id != Guid.Empty)
            {
                <button type="button" class="mx-3 btn btn-danger" @onclick="Delete_Click">Delete</button>
            }
        </div>
    </div>

</EditForm>